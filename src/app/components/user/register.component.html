<main id="main" class="passport">
    <!-- layout-inner -->
    <div class="layout-inner">
        <div class="passport-wrap">
            <div [formGroup]="form" [ngBusy]="{busy: busy, templete:templete}" action="/user/register" id="registerForm" method="post" class="form passport-form" novalidate="novalidate">
                <h2 class="legend">注册新用户<a [routerLink]="['/login']" routerLinkActive="active" class="top-link">使用已有账户登录</a></h2>

                <div class="form-item">
                    <div class="form-cont">
                        <input type="email" [(ngModel)]="email" value="" class="txt txt-h-xlarge" placeholder="電郵" formControlName="email"/>
                        <p class="form-item-error" *ngIf="form.controls.email.errors?.required">請輸入電郵</p>
                        <p class="form-item-error" *ngIf="form.controls.email.errors?.email">請輸入有效電郵</p>
                    </div>
                </div>
                <div class="form-item">
                    <div class="form-cont">
                        <input type="text" [(ngModel)]="name" value="" class="txt txt-h-xlarge" placeholder="用戶名" formControlName="name"/>
                        <p class="form-item-error" *ngIf="form.controls.name.errors?.required">請輸入用戶名</p>
                        <p class="form-item-error" *ngIf="form.controls.name.errors?.rangeLength">請輸入6-20字符</p>
                    </div>
                </div>
                <!--<div class="form-item">
                    <div class="form-cont">
                        <input type="text" name="validCode" class="txt txt-h-xlarge w-large float-left" placeholder="验证码">
                        <div class="img-code float-right">
                            <img id="validCode" src="/assets/images/verify_code_sample.png" alt="" width="120" height="40" class="js-refresh">
                        </div>
                    </div>
                </div>-->
                <div class="form-item">
                    <div class="form-cont">
                        <input type="password" [(ngModel)]="password" value="" class="txt txt-h-xlarge" placeholder="密码" formControlName="password"/>
                        <p class="form-item-error" *ngIf="form.controls.password.errors?.required">請輸入密码</p>
                        <p class="form-item-error" *ngIf="form.controls.password.errors?.rangeLength">請輸入6-20字符</p>
                        
                    </div>
                </div>
                <div class="form-item form-item-agreement">
                    <div class="form-cont">
                        <label><input class="{required:true}" type="checkbox" checked="checked">同意并已阅读</label><a href="/views/user/agreement-register.jsp" target="_blank">协议</a>
                    </div>
                </div>
                <div class="form-item form-item-submit">
                    <div class="form-cont">
                        <button [style.background]="!isValid()?'lightgray':'#ea5514'" type="submit" class="btn btn-primary btn-h-large" (click)="register()">注&nbsp;&nbsp;&nbsp;册</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--/ layout-inner -->
</main>

<kendo-dialog title="Oh no!" *ngIf="opened" (close)="close()">
    <p>{{ elertTitle }}</p>

    <kendo-dialog-actions>
        <button kendoButton (click)="close()" [primary]="true">{{elertDetail}}</button>
    </kendo-dialog-actions>
</kendo-dialog>